---
title: 数据结构和算法
date: 2022-02-12
tags:
  - 数据结构和算法
categories:
  - 数据结构和算法
---

# 基础入门
```
判断一个数是否是2的N次方。比如2 4 8 16 是的6 10 不是的就看这个数是不是可以拆成N个2相乘。
```

```java
1:01
2:10 & :01 & 10 =00
4:100
3:011 4&3==0
8:1000
7:0111
16:10000
15:01111  ===>转化成了 if(n&(n-1) == 0) 那么n就是2的次方 n  > 1


 //是否是2的次方
for (int i = 1; i < 100000; i++) {
    int result = i & (i - 1);
    if(result==0){
        System.out.println(i);
    }
}
```
### 为什么要学习数据结构与算法？
```
1.BAT一线互联网公司面试必问技术:
 为什么必问？数据结构与算法是所有计算机类的基础。大企业看重的是潜力。
2.如果你不想做一辈子的CRUD工程师：业务工程师，CURD工程师，redis。redis的数据结构？集合 set 跳表。
统计功能：排序+循环。

3.架构师必备，写出框架级的代码；API，写出开源级代码。中年危机

4.提升自己的能力，不被行业淘汰：H5，小程序。红黑树，几十年的时间。B+Tree.
```


### 如何快速的掌握数据结构与算法
```
1.什么是数据结构？什么是算法？
就是一个能组在一起的集合对象。比如数组 链表 队列等。算法：就是解决问题的

2.数据结构与算法要学哪些内容？

3.面对这么多的知识点，我们应该怎么学习？
学习目的：
（1）提升能力的：全部学
（2）突击面试的：注意几个经典的：链表 排序算法 二叉树 红黑树 B-Tree B+Tree 
（3）进阶的：树论+图论+我的专项+每节课的理论部分
```


### 推荐书籍和网站
```
1.数据结构：
（1）严蔚敏版 数据结构与算法
（2）大话数据结构

2.算法：
（1）基础级：刘汝佳 算法竞赛入门经典（两本，还有一个是习题）
（2）进阶级：刘汝佳黑书 算法导论；非常难，非算法行业慎入


3.刷题网站：
（1）力扣:https://leetcode-cn.com/
（2）POJ or HDU
```

### 算法特性
```
五个特征：
有穷性、确定性、可行性、有输入、有输出
While(true){}

设计原则：正确性、可读性、健壮性 bug：写出代码很少有bug，而且系统比较稳定
高效率与低存储: 内存+CPU 堆栈内存OOM
内存占用最小，CPU占用最小，运算速度最快。

评价算法的两个重要指标: 占据整个学习的半壁江山，接下来我们会重点学习时间复杂度的计算
时间复杂度:运行一个程序所花费的时间。O()
空间复杂度：运行程序所需要的内存  OOM
```


## 基础知识

## 时间复杂度
```
1.时间复杂度计算的意义:怎么测试接口的性能的？压测，冒烟。要依赖测试环境吧，流程很长，搞的规模或者数据不准确。排序算法： 1 2 3  / 3 2 1. 你应该自己用代码分析。也就是时间复杂度

2.时间复杂度表示方法：大O表示法。O(n),O(nlogn);
O(1),O(n),O(nlogn),O(n^2),O(n+1),O(logn),O(n!)
3.时间复杂度如何来分析
（1）找for while 递归。而且要找循环量最大的那一段
（2）同级循环怎么计算

```
```
4.几种常见的时间复杂度分析：指的是某一段代码。
计算时间复杂度 往往是计算比较大的 而且是不确定的数，如果已经确定了，那么就不用计算了，也是我们说的常量。
常数：O(1) 1表示是常数，所有能确定的数字我们都用O（1），O(1000)=>o(1)
对数：O(logn),O(nlogn)
线性：O(n)
线性对数：O(nlogn)
平方：O(n^2)
N次方：O(n^n)
我们怎么找时间复杂度：
1.找到有循环的地方，
2.找有网络请求（RPC，远程调用，分布式，数据库请求）的地方。
就是测试时间：log打印，计算平均时间。

```

![image-20220214103929108](https://gitee.com/1314zhao/md-img/raw/master/img/image-20220214103929108.png)

### O(1)

```java
int a = 1;		//1次 O(1)
for(int i = 0 ;i < 3;i++){//这里会运行几次？4次 在第4次的时候结束 跳出 i=3 (0 1 2 3)
    a = a + 1;			//这里运行几次？ 3次 O(1)? n+1 n 1 O(3)? => O(1)
}
```

### O(n)
```java
int n = Integer.MAX_VALUE;		//表示n是未知
int i = 1;
for(int j = 0 ; j < n ;j++){
    while ( i <= n){
        i = i * 2;
    }
}
```

### O(logn)
```java
while( i <= n){
    i = i * 3;		//O(logn)
}
//i的值：2 4 8 16 32,=》2^0,2^1,2^2,2^3,.....2^n
//===> 2^x=n =>求出x就是我们运行的次数 => x=log2n =>计算机忽略掉常数 => x = logn =>O(logn)
//二分查找 为什么是logn的算法？
//1~100 找69这个数
//50:(1+100)/2 = 50
```

### O(nlogn)

```java
for(int j;j<n;j++){
  while( i <= n){
      i = i * 3;    //O(nlogn)
  }
}
```



### O(n^2)

```java
for(i = 0 ; i < n;i++){	// 乘法 n次
    for(int j = 0 ; j < n ;j ++){		//n次
        a = a +1;			//运行了多少次？		O(n^2)
    }
}
```



### O(n^n)

```java


```

### 小结

```
几种常见的时间复杂度总结
学了时间复杂度，那我们的目的就是要把代码写到最优，效率最高；

O(1)>O(logn)>O(n)>O(nlogn)>O(n^2)>O(n^x)
O(1)>O(logn)>O(n)>O(nlogn) 效果都是很好的。几乎优化的空间不是很大。
登录：判断用户名密码O(1)到数据库里查记录；分布式 缓存。
列表的接口：排序，冒泡排序；=>找更优秀的排序算法 快速排序，归并排序，堆排序。

优化的目标就是要往O（1）的方向接近。

5.最坏情况，最好情况，平均情况时间复杂度：
```



## 空间复杂度

```
1.空间复杂度分析的意义：找花了内存的地方。数据

2.如何找出程序的空间复杂度：开了空间的地方， 比如 数组 链表，缓存对象，递归

3.一般怎么改进？

```



## 数据结构和算法的重要性

```
待补充。。。。。。
```



## 算法思维如何培养和学习

```
待补充。。。。。。
```



# 数组

## 数组介绍

```
1.数组的定义
所谓数组，是有序的元素序列。 若将有限个类型相同的变量的集合命名，那么这个名称为数组名。组成数组的各个变量称为数组的分量，也称为数组的元素，有时也称为下标变量。用于区分数组的各个元素的数字编号称为下标。数组是在程序设计中，为了处理方便， 把具有相同类型的若干元素按无序的形式组织起来的一种形式。这些无序排列的同类数据元素的集合称为数组。int 的数组你就不能存float 也不能存double
数组是用于储存多个相同类型数据的集合。通常用Array表示，也称之为线性表，画图演示




2.特点
(1)数组是相同数据类型的元素的集合。
(2)数组中的各元素的存储是有先后顺序的，它们在内存中按照这个先后顺序连续存放在一起。内存地址
(3)数组元素用整个数组的名字和它自己在数组中的顺序位置来表示。例如，a[0]表示名字为a的数组中的第一个元素，a[1]代表数组a的第二个元素，以此类推。

3.表现形式
（1）一维数组
	Int a[],String a[]
（2）多维数组
	Int a[][],int a[][][]。 int a[m][n]:内存空间是多少？ m*n  a[0][10]: 链表解决，a[0]:->10>2   a[1]->15
	
	
4.随机访问：

数组是连续的内存空间和相同类型的数据。正是因为这两个限制，它才有了一个非常重要的特性：随机访问。但有利就有弊，这两个限制也让数组的很多操作变得非常低效，比如要想在数组中删除、插入一个数据，为了保证连续性，就需要做大量的数据搬移工作。
随机访问的重要应用：查找，面试重点

5.数组的缺点：插入和删除
实现代码：
设数组的长度为n，现在，如果我们需要将一个数据插入到数组中的第k个位置。删除第N个位置的数据.

6.使用数组一定要注意访问越界问题。


```



```
ArrayList和数组：
本质是一样的，都是数组。ArrayList是JDK封装了。不需要管扩容等操作
数组的话就要你全部操作


两者之间应该如何选用？：
不知道数据大小的肯定选ArrayList。
如果你知道数据的大小而且你又非常关注性能那就用数组。

数组最需要注意的就是越界：所以一定要多加判断，尤其是在开始和结束。测试的时候也一样注意头和尾。
Java里面的内存分为几种？

```



## 小案例

```
面试经典：
给你一个文件里面包含全国人民（14亿）的年龄数据（0~180），现在要你统计每一个年龄有多少人？
给定机器为 单台+2CPU+2G内存。不得使用现成的容器，比如map等。
数组算法
在以上情况下你该如何以最高效的方法来解决这个问题？
排序算法：1 1 1 2 2 2  3 3 3 4 4 5。想过没？能不能解决这个问题？：不能 为什么？
排序的最高效算法：O(nlogn) 14亿，排不出来，而且内存也不够。
int a[] = new int[180];a[0]++;0表示的是0岁，a[0]的值表示的就是0有多少人.
12：56
23：56111
52：9999888
下标：数组最优一个特点。这里可以通下标表示成有意义的数据，不只是数据里面的标记，年龄和下标对应。随机访问：可以直接通过下标定位到数组中的某一个数据

```



### 生成文件 （全国人的年龄，随机生成）

```java
public class Test1 {
    public static void main(String[] args) throws Exception {
        final String fileName = "C:\\Users\\lenovo\\Desktop\\doc\\age1.txt";
        final Random random = new Random();
        BufferedWriter objWriter = null;
        objWriter = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(fileName)));
        for (int i = 0; i < 1400000000; i++) {
            int age = Math.abs(random.nextInt()) % 180;
            objWriter.write(age + "\r\n");
        }
        objWriter.flush();
        objWriter.close();
    }
}
```



### 使用数组统计每个年龄的人数

```java
public class AgeStas {

	public static void main(String[] args) throws Exception {
		String str = null;
		String fileName = "C:\\Users\\lenovo\\Desktop\\doc\\age1.txt";
		InputStreamReader isr = new InputStreamReader(new FileInputStream(fileName),"UTF-8");
		
		long start = System.currentTimeMillis();
		BufferedReader br = new BufferedReader(isr);
		int tot = 0 ;	//21亿
		int data [] = new int[200];
		while((str = br.readLine()) != null){		//一行一行的读 O(n)
			int age = Integer.valueOf(str);
			data[age] ++ ;
			tot ++ ;
		}
		//O(n) 14亿. 100万/秒 *1000 = 10亿 100~1000s之间 => 500s以下 60*8=480s
		System.out.println("总共的数据大小: " + tot);
		
		for(int i = 0 ; i < 200 ; i ++){//下标从0开始的
			System.out.println(i + ":" + data[i]);
		}
		//144239ms => 144s
		System.out.println("计算花费的时间为:" + (System.currentTimeMillis() - start) + "ms");
	}
}
```

计算花费的时间为:45076ms



### 小结

```java
数组是一个最基础最简单的数据结构，必须要完全搞懂。它是存储相同类型的一组数据，最大的两个特点就是
下标和随机访问,时间复杂度为O（1）。缺点就是插入和删除是很慢的，时间复杂度为O（n）。
```





### 为什么很多计算机编程语言中数组的下标要从0开始呢？

```
定义一个数组一定会分配内存空间。数组的特点是 内存是一段连续的地址。
int a[] = new int[3];
到内存中申请空间：10001,10002,10003
存数据
 a[0] => 10001  ====> 10001+0*typesize
	a[1] =>  10002 =====> 10001+1*typesize
	a[2]=>   10003 =====> 10001+2*typesize
如果我们不从0开始 
a[1] = 10001+(1-1)
a[2] = 10001+(2-1)
a[3] = 10001+(3-1)
就会多一个减操作，使性能减低
```





# 堆栈内存

### 介绍

```java
Java分为两种内存。
什么是堆内存？：存放new创建的对象和数组
什么是栈内存？引用变量
堆栈都用Java用来存放数据的地方，与C++ /  c不一样。java自动管理我们的堆栈。gc，new出来的你没管过。



堆栈的区别：
1.栈的速度要快
2.栈内存的数据可以共享，主要存一些基本数据类型。
int a = 3;	//在栈中创建变量a 然后给a赋值，先不会创建一个3而是先在栈中找有没有3，如果有直接指向。如果没有就加一个3进来。
int b =3;  //首先也要创建一个变量b，

```



### 面试题

```java
String str1 = "abc";
String str2 = "abc";
System.out.println(str1==str2);	//true


String str1 = "abc";
String str2 = "abc";
str1 = "bcd";
System.out.println(str1 + "," + str2); 	//bcd,abc
System.out.println(str1==str2); 		//false 虽然最开始 str1和str2都指向同一个变量abc但str1引用变化后不会改变str2的

String str1 = "abc";
String str2 = "abc";
str1 = "bcd";
String str3 = str1;
System.out.println(str3); //bcd
String str4 = "bcd";
System.out.println(str1 == str4);	//true


String str1 = new String("abc");
String str2 = "abc";
System.out.println(str1==str2); 	//false  new在堆内存中新开了一个对象


String s1 = "ja";
String s2 = "va";
String s3 = "java";
String s4 = s1 + s2; //java 注意这个+号，java里面重载了+，其实调用了stringBuild，会new对象。
System.out.println(s3 == s4);	//false
System.out.println(s3.equals(s4));	//true 只是比较值
```



##### 



